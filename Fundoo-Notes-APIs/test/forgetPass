/* eslint-disable eol-last */
/* eslint-disable node/handle-callback-err */
/* eslint-disable no-unused-expressions */
/* eslint-disable no-undef */

const server = require("../server");
const chai = require("chai");
const chaiHttp = require("chai-http");
// const data = require("./data.json");

chai.should();
chai.use(chaiHttp);

describe("Forget Password API", () => {
  it("ForgetPassword_WithValidEmail_ShouldReturn_EmailSent", (done) => {
    const user = { email: "dattagavhad121@gmail.com" };
    chai
      .request(server)
      .put("/forgetPassword")
      .send(user)
      // { email: "process.env.USEREMAIL" }
      .end((err, res) => {
        res.should.have.status(200);
        res.body.should.have.property("success").eql(false);
        res.body.should.have.property("message").eql("Email reset link sent succesfully");
        done();
      });
  });
});
